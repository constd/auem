# @package _global_

defaults:
  - /logger: null
  - /datamodule@data: generic
  - /dataset@data.datasets.train.random: random_audio
  - /dataset@data.datasets.validation.random: random_audio
  - /dataset@data.datasets.test.random: random_audio
  - /model: ganbase
  - /model@model.generator: melgan
  - /model/encoder@model.generator.encoder: mel
  - /model@model.discriminator: discriminator/period
  - /recipe: gan
  - /criterion@recipe.loss: BCEWithLogitsLoss
  - /optimizer@recipe.optimizer.generator: Adam
  - /optimizer@recipe.optimizer.discriminator: Adam
  - /trainer: lit

trainer:
  fast_dev_run: false

data:
  datasets:
    train:
      random:
        n_examples: 5
        n_samples: 2206
    validation:
      random:
        n_examples: 2
        n_samples: 2206
    test:
      random:
        n_examples: 3
        n_samples: 2206
    batch_size:
      train: 2
      validation: 1
      test: 1

model:
  generator:
    encoder:
      n_mels: 48
    n_mels: ${.encoder.n_mels}
    n_residual_layers: 2
    max_frames: 2206
  discriminator:
    num_samples: ${..generator.max_frames}
